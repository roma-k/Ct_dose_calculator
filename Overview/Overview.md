Краткое содержание и пошаговое объяснение логики `script.js`

Overview
- Назначение: `script.js` реализует ввод DLP через виртуальную клавиатуру, выбор региона/возраста, вычисление эффективной дозы (ED) как DLP × коэффициент, отображение результата и переключение темы.

COEFFICIENTS
- Структура: объект `COEFFICIENTS` вида { region: { ageGroup: k, ... }, ... }.
- Роль: для каждой комбинации региона и возрастной группы хранится коэффициент k, используемый для умножения DLP.

Инициализация и DOM
- Элементы: на странице есть элемент отображения ввода `#display`, поле результата `#result`, группы радио-кнопок для `region` и `age`, виртуальная клавиатура и чекбокс темы `#theme-toggle`.
- Когда вызывается: после загрузки DOM (или привязанных через атрибуты `onchange`) функции клавиатуры и `calculateED()` вызываются при взаимодействии пользователя.

Ввод — виртуальная клавиатура
- Функция: при нажатии кнопки клавиатуры вызывается обработчик (обычно `keyBoard(value)`).
- Обработка значений:
  - Цифры и точка: добавляются в строку `#display`; контролируется наличие второй точки.
  - `C` (clear): очищает `#display` (становится пустым или "0").
  - `B` (backspace): убирает последний символ из `#display`.
- После изменения: обычно вызывается `calculateED()` чтобы сразу обновить результат.

Функция calculateED(dlp?) — пошагово
- Источник DLP: если параметр `dlp` передан — используется он; иначе читается из `document.getElementById('display').textContent`.
- Приведение к числу: `parseFloat(...)` с защитой от NaN — часто используют `parseFloat(...) || 0`, чтобы пустой ввод стал 0.
- Выбор коэффициента:
  - читаются значения выбранных радио-кнопок `region` и `age` (через `document.querySelector('input[name="region"]:checked')` и т.п.).
  - если `region`/`age` не выбраны — функция должна корректно обработать (например, взять дефолт или показать 0).
  - берётся `k = COEFFICIENTS[region][age]` (в коде обычно с проверками на существование).
- Вычисление: `ed = dlp * k`.
- Форматирование: обычно `ed` округляют (например, `ed.toFixed(2)`) и показывают в `#result`.
- Обновление UI: вставляется строка результата; при необходимости показывают единицы измерения.

Тема (theme toggle)
- Поведение: переключение чекбокса добавляет/удаляет класс (например, `dark-theme`) у `document.body`.
- Персистенция: может использоваться `localStorage` для сохранения выбранной темы между сессиями (если реализовано).

Пограничные случаи и защита
- Пустой/нечисловой ввод: `parseFloat` + `|| 0` чтобы избежать NaN.
- Двойная точка: клавиатура должна блокировать добавление второй десятичной точки.
- Отсутствие выбранных радио: проверять и подставлять безопасные значения или показывать подсказку.
- Большие/малые числа: при необходимости форматировать с разделителями или ограничивать длину ввода.
